<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi·ªè H√†ng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body { padding: 20px; }
        .cart-item { border-bottom: 1px solid #ddd; padding: 15px 0; }
        .cart-item img { width: 100px; height: auto; }
        .summary-box { padding: 20px; background: #f8f9fa; border-radius: 10px; }
        .btn-remove { background: red; color: white; }
        .btn-update { background: orange; color: white; }
    </style>
</head>
<body>

    <div class="container">
        <h2 class="mb-4 text-center">üõí Gi·ªè H√†ng</h2>

        <div id="cart"></div>

        <!-- T√≥m t·∫Øt ƒë∆°n h√†ng -->
        <div class="summary-box mt-4">
            <h5>T√≥m T·∫Øt ƒê∆°n H√†ng</h5>
            <p><strong>T·ªïng th√†nh ti·ªÅn: </strong> <span id="total">0</span> VND</p>
            <p><strong>Ph√≠ v·∫≠n chuy·ªÉn:</strong> <span>Mi·ªÖn ph√≠</span> (ƒë∆°n h√†ng tr√™n 10 tri·ªáu)</p>
            <p><strong>Giao h√†ng:</strong> Trong 2-7 ng√†y. Li√™n h·ªá <strong>0978 611 889</strong></p>
            <h3><strong>T·ªïng ti·ªÅn: </strong> <span id="grand-total">0</span> VND</h3>
            <button class="btn btn-primary w-100">ƒê·∫∑t h√†ng ngay</button>
        </div>
    </div>

    <script>
        let cart = [
            { id: 1, title: "Gi∆∞·ªùng ch√¢u √Çu", image: "img/giuong-ngu-chau-Au-hoang-gia.jpg", price: 22999000, qty: 1 },
            { id: 2, title: "C·∫ßu thang", image: "img/mau-cau-thang.jpeg", price: 30999000, qty: 1 }
        ];

        function renderCart() {
            let cartContainer = $("#cart");
            cartContainer.empty();

            cart.forEach((item, index) => {
                let productHtml = `
                    <div class="cart-item row align-items-center" data-id="${item.id}">
                        <div class="col-md-2">
                            <img src="${item.image}" alt="${item.title}">
                        </div>
                        <div class="col-md-4">
                            <h5>${item.title}</h5>
                            <p>Gi√°: <strong>${item.price.toLocaleString()}</strong> VND</p>
                        </div>
                        <div class="col-md-3 d-flex align-items-center">
                            <button class="btn btn-outline-secondary btn-sm minus">-</button>
                            <input type="number" class="form-control qty mx-2" value="${item.qty}" min="1" style="width: 60px; text-align: center;">
                            <button class="btn btn-outline-secondary btn-sm plus">+</button>
                        </div>
                        <div class="col-md-2">
                            <p class="subtotal">Th√†nh ti·ªÅn: <strong>${(item.price * item.qty).toLocaleString()}</strong> VND</p>
                        </div>
                        <div class="col-md-1">
                            <button class="btn btn-remove btn-sm">X√≥a</button>
                            <button class="btn btn-update btn-sm">C·∫≠p nh·∫≠t</button>
                        </div>
                    </div>
                `;
                cartContainer.append(productHtml);
            });

            updateTotal();
        }

        function updateTotal() {
            let total = 0;
            cart.forEach(item => {
                total += item.price * item.qty;
            });
            $("#total, #grand-total").text(total.toLocaleString());
        }

        $(document).ready(function() {
            renderCart();

            // Gi·∫£m s·ªë l∆∞·ª£ng
            $(document).on("click", ".minus", function() {
                let index = $(this).closest(".cart-item").index();
                if (cart[index].qty > 1) {
                    cart[index].qty--;
                    renderCart();
                }
            });

            // TƒÉng s·ªë l∆∞·ª£ng
            $(document).on("click", ".plus", function() {
                let index = $(this).closest(".cart-item").index();
                cart[index].qty++;
                renderCart();
            });

            // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng khi nh·∫≠p s·ªë
            $(document).on("input", ".qty", function() {
                let index = $(this).closest(".cart-item").index();
                let newQty = parseInt($(this).val());
                if (newQty > 0) {
                    cart[index].qty = newQty;
                    renderCart();
                }
            });

            // X√≥a s·∫£n ph·∫©m
            $(document).on("click", ".btn-remove", function() {
                let index = $(this).closest(".cart-item").index();
                cart.splice(index, 1);
                renderCart();
            });

            // N√∫t C·∫≠p nh·∫≠t
            $(document).on("click", ".btn-update", function() {
                let index = $(this).closest(".cart-item").index();
                let newQty = parseInt($(this).closest(".cart-item").find(".qty").val());
                if (newQty > 0) {
                    cart[index].qty = newQty;
                    renderCart();
                }
            });
        });
    </script>

</body>
</html>
